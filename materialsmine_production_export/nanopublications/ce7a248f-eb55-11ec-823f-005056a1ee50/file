@prefix ns1: <http://nanomine.org/pub/> .
@prefix ns2: <http://vocab.rpi.edu/whyis/> .
@prefix ns3: <http://schema.org/> .
@prefix ns4: <http://xmlns.com/foaf/0.1/> .
@prefix ns5: <http://purl.org/dc/terms/> .
@prefix ns6: <http://semanticscience.org/resource/> .
@prefix ns7: <http://open.vocab.org/terms/> .
@prefix ns8: <http://www.nanopub.org/nschema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

ns1:u7djdiwk0e_assertion {
    <http://nanomine.org/viz/284cffd6955fab4f> a ns6:Chart ;
        ns5:description "Use the built-in interactive elements (tooltips, query widgets, etc.) to solve the puzzle. Your goal is to break open the blue box. When you have found your lucky number, let the star in the southeast be your guide." ;
        ns5:title "Cryptograph II" ;
        ns3:query """# Hint: Keep the Key at the number twenty-three...
PREFIX nm: <http://materialsmine.org/ns/>
PREFIX sio: <http://semanticscience.org/resource/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
SELECT DISTINCT ?Filler (COUNT(distinct ?sample) AS ?SampleCount) WHERE {
  ?sample a nm:PolymerNanocomposite ;
          sio:hasComponentPart [ sio:hasRole [ a nm:Filler ] ; a [ rdfs:label ?Filler] ]
}
GROUP BY ?Filler""" ;
        ns6:hasValue "{\"$schema\":\"https://vega.github.io/schema/vega-lite/v4.json\",\"description\":\"Try to solve the puzzle before examining this Vega-Lite spec. Spoilers abound!\",\"data\":{\"url\":\"G59_clean.csv\"},\"transform\":[{\"calculate\":\"ceil(minutes(now())/60*99)+1\",\"as\":\"rand\"},{\"calculate\":\"datum.rand * 0 + 23\",\"as\":\"SPARQLkey\"}],\"hconcat\":[{\"layer\":[{\"transform\":[{\"filter\":\"datum.Filler == 'Montmorillonite'\"}],\"mark\":{\"type\":\"text\",\"fontSize\":48,\"font\":\"Brush Script MT\",\"dx\":-10,\"dy\":-200,\"opacity\":0.5},\"encoding\":{\"text\":{\"datum\":\"N\",\"type\":\"nominal\"}}},{\"transform\":[{\"filter\":\"datum.Filler == 'Zinc oxide'\"}],\"mark\":{\"type\":\"text\",\"fontSize\":48,\"font\":\"Brush Script MT\",\"dx\":190,\"dy\":10,\"opacity\":0.5},\"encoding\":{\"text\":{\"datum\":\"E\",\"type\":\"nominal\"}}},{\"transform\":[{\"filter\":\"datum.Filler == 'Graphite'\"}],\"mark\":{\"type\":\"text\",\"fontSize\":48,\"font\":\"Brush Script MT\",\"dx\":-210,\"dy\":10,\"opacity\":0.5},\"encoding\":{\"text\":{\"datum\":\"W\",\"type\":\"nominal\"}}},{\"transform\":[{\"filter\":\"datum.Filler == 'Silicon dioxide'\"}],\"mark\":{\"type\":\"text\",\"fontSize\":48,\"font\":\"Brush Script MT\",\"dx\":-10,\"dy\":200,\"opacity\":0.5},\"encoding\":{\"text\":{\"datum\":\"S\",\"type\":\"nominal\"}}},{\"transform\":[{\"filter\":\"datum.Filler == 'Graphene'\"},{\"filter\":{\"selection\":\"filler\"}},{\"calculate\":\"replace(datum.Filler,/.*/,'My atomic number might reveal something new...')\",\"as\":\"h1\"}],\"selection\":{\"hoverC\":{\"type\":\"single\",\"on\":\"mouseover\",\"empty\":\"none\",\"clear\":\"mouseout\"}},\"mark\":{\"type\":\"text\",\"fontSize\":40},\"encoding\":{\"text\":{\"datum\":\"Carbon\",\"type\":\"nominal\"},\"opacity\":{\"condition\":{\"selection\":\"hoverC\",\"value\":0.7},\"value\":1},\"tooltip\":[{\"field\":\"h1\",\"type\":\"nominal\",\"title\":\"Hint\"}]}},{\"transform\":[{\"filter\":{\"selection\":\"str\"}},{\"filter\":{\"selection\":\"filler\"}}],\"mark\":{\"type\":\"text\",\"fontSize\":16},\"encoding\":{\"x\":{\"datum\":4.5,\"type\":\"quantitative\",\"axis\":null},\"y\":{\"datum\":4.5,\"type\":\"quantitative\",\"axis\":null},\"text\":{\"datum\":\"You solved the puzzle!\",\"type\":\"nominal\"}}},{\"data\":{\"sequence\":{\"start\":1,\"stop\":101,\"step\":1,\"as\":\"sequence\"}},\"transform\":[{\"calculate\":\"ceil(datum.sequence / 10) - 1\",\"as\":\"seq_x\"},{\"calculate\":\"datum.sequence - datum.seq_x * 10 - 1\",\"as\":\"seq_y\"}],\"mark\":{\"type\":\"point\",\"shape\":\"square\",\"size\":300,\"filled\":true,\"opacity\":1,\"color\":\"aliceblue\"},\"encoding\":{\"x\":{\"field\":\"seq_x\",\"type\":\"quantitative\",\"axis\":null},\"y\":{\"field\":\"seq_y\",\"type\":\"quantitative\",\"axis\":null}}},{\"data\":{\"sequence\":{\"start\":1,\"stop\":101,\"step\":1,\"as\":\"sequence\"}},\"transform\":[{\"calculate\":\"ceil(datum.sequence / 10) - 1\",\"as\":\"seq_x\"},{\"calculate\":\"datum.sequence - datum.seq_x * 10 - 1\",\"as\":\"seq_y\"},{\"calculate\":\"ceil(minutes(now())/60*99)+1\",\"as\":\"ln\"}],\"mark\":{\"type\":\"text\"},\"encoding\":{\"x\":{\"field\":\"seq_x\",\"type\":\"quantitative\",\"axis\":null},\"y\":{\"field\":\"seq_y\",\"type\":\"quantitative\",\"axis\":null},\"text\":{\"field\":\"ln\",\"type\":\"quantitative\"}}},{\"data\":{\"sequence\":{\"start\":1,\"stop\":101,\"step\":1,\"as\":\"sequence\"}},\"height\":500,\"width\":500,\"transform\":[{\"calculate\":\"ceil(milliseconds(now())/1000*99)+1\",\"as\":\"myrand\"},{\"calculate\":\"ceil(datum.sequence / 10) - 1\",\"as\":\"seq_x\"},{\"calculate\":\"datum.sequence - datum.seq_x * 10 - 1\",\"as\":\"seq_y\"},{\"calculate\":\"6\",\"as\":\"an\"},{\"calculate\":\"(datum.myrand == datum.sequence) ? 0 : 1 \",\"as\":\"match\"},{\"joinaggregate\":[{\"op\":\"max\",\"field\":\"match\",\"as\":\"randmatch\"}]},{\"calculate\":\"replace(datum.an,/.*/,'When the time is right, clicking the circle will reveal a lucky number...')\",\"as\":\"msg\"}],\"mark\":{\"type\":\"point\",\"shape\":\"square\",\"size\":300,\"filled\":true,\"opacity\":1},\"selection\":{\"zoom\":{\"type\":\"interval\",\"bind\":\"scales\",\"zoom\":\"wheel![event.altKey && event.shiftKey && !event.ctrlKey]\"},\"hover\":{\"type\":\"single\",\"empty\":\"none\",\"on\":\"mouseover\",\"clear\":\"mouseout\",\"fields\":[\"sequence\"]},\"atom\":{\"type\":\"single\",\"fields\":[\"an\"],\"empty\":\"none\",\"bind\":{\"input\":\"range\",\"min\":1,\"max\":25,\"step\":1,\"name\":\"Elementary...\"}},\"click\":{\"type\":\"single\",\"empty\":\"none\"}},\"encoding\":{\"x\":{\"field\":\"seq_x\",\"type\":\"quantitative\",\"axis\":null,\"scale\":{\"nice\":false,\"domain\":[-10,20]}},\"y\":{\"field\":\"seq_y\",\"type\":\"quantitative\",\"axis\":null,\"scale\":{\"nice\":false,\"domain\":[-10,20]}},\"color\":{\"condition\":{\"test\":{\"and\":[{\"selection\":\"hover\"},{\"selection\":\"atom\"}]},\"value\":\"firebrick\"},\"value\":\"#00009c\"},\"shape\":{\"condition\":{\"test\":{\"and\":[{\"selection\":\"atom\"},{\"field\":\"match\",\"equal\":0},{\"selection\":\"hover\"}]},\"value\":\"circle\"},\"value\":\"square\"},\"fillOpacity\":{\"condition\":{\"test\":{\"and\":[{\"selection\":\"atom\"},{\"field\":\"match\",\"equal\":0},{\"selection\":\"click\"}]},\"value\":0},\"value\":1},\"tooltip\":[{\"field\":\"msg\",\"type\":\"nominal\",\"title\":\"Hint\"}]}},{\"selection\":{\"filler\":{\"type\":\"single\",\"fields\":[\"Filler\"],\"empty\":\"none\",\"bind\":{\"input\":\"select\",\"name\":\"Just a dropdown list (or is it?): \",\"options\":[null,\"Titanium dioxide\",\"Silver\",\"Aluminium oxide\",\"Zinc oxide\",\"Carbon black\",\"Silicon dioxide\",\"Barium titanate\",\"Graphite\",\"Multi-wall carbon nanotubes\",\"Calcium carbonate\",\"Aluminium hydroxide\",\"Graphene\",\"Montmorillonite\",\"Single-wall carbon nanotubes\",\"Magnesium oxide\",\"Barium strontium titanate\",\"Iron(II,III) oxide\",\"Cellulose\",\"Fluorine mica\",\"Sepiolite\",\"Carbon nanofibers\",\"Zirconium dioxide\",\"Bentonite\",\"Silicon carbide\",\"Gold\",\"Clay\"]}}},\"mark\":\"text\"},{\"transform\":[{\"filter\":\"datum.Filler == 'Graphene'\"},{\"calculate\":\"replace(datum.Filler,/.*/,'When you see a match, I suggest clicking the mouse.')\",\"as\":\"msg0\"}],\"selection\":{\"hover0\":{\"type\":\"single\",\"on\":\"mouseover\",\"empty\":\"none\",\"clear\":\"mouseout\"}},\"mark\":{\"type\":\"text\",\"dx\":-200,\"dy\":-200,\"font\":\"Courier New\",\"fontSize\":24},\"encoding\":{\"text\":{\"field\":\"SampleCount\",\"type\":\"quantitative\"},\"opacity\":{\"condition\":{\"selection\":\"hover0\",\"value\":0.7},\"value\":1},\"tooltip\":[{\"field\":\"msg0\",\"type\":\"nominal\",\"title\":\"Hint\"}]}},{\"transform\":[{\"filter\":\"datum.Filler == 'Graphene'\"},{\"filter\":{\"selection\":\"filler\"}},{\"filter\":{\"selection\":\"click\"}}],\"mark\":{\"type\":\"text\",\"fontSize\":20,\"dy\":150},\"encoding\":{\"text\":{\"datum\":\"Have you tried moving the box?\",\"type\":\"nominal\"}}},{\"transform\":[{\"filter\":{\"selection\":\"filler\"}},{\"calculate\":\"replace(datum.an,/.*/,'Shift and Alt will help you break the blue box... Zoom!')\",\"as\":\"msg\"},{\"calculate\":\"(datum.Filler == 'Graphene') ? datum.rand : 0\",\"as\":\"lnum\"}],\"selection\":{\"str\":{\"type\":\"single\",\"fields\":[\"rand\"],\"empty\":\"none\",\"bind\":{\"input\":\"range\",\"min\":1,\"max\":100,\"step\":1,\"name\":\"Lucky Number?\"}},\"strSPARQL\":{\"type\":\"single\",\"fields\":[\"SPARQLkey\"],\"empty\":\"none\",\"bind\":{\"input\":\"range\",\"min\":16,\"max\":64,\"step\":1,\"name\":\"SPARQL Key:\"}},\"hoverstar\":{\"type\":\"single\",\"on\":\"mouseover\",\"empty\":\"none\",\"clear\":\"mouseout\",\"fields\":[\"lnum\"]}},\"mark\":{\"type\":\"point\",\"filled\":true,\"fill\":\"goldenrod\",\"yOffset\":200,\"xOffset\":200},\"encoding\":{\"color\":{\"condition\":{\"test\":{\"and\":[{\"selection\":\"str\"},{\"selection\":\"strSPARQL\"},{\"selection\":\"filler\"}]},\"value\":\"goldenrod\"},\"value\":\"transparent\"},\"shape\":{\"value\":\"M 0 10 L 11.756 16.180 L 9.511 3.09 L 19.021 -6.18 L 5.878 -8.09 L 0.000 -20.000 L -5.878 -8.090 L -19.021 -6.180 L -9.511 3.090 L -11.756 16.180 L 0.000 10.000\"},\"stroke\":{\"condition\":{\"selection\":\"str\",\"value\":\"white\"},\"value\":null},\"size\":{\"condition\":{\"selection\":\"strSPARQL\",\"value\":5},\"value\":0.01},\"fillOpacity\":{\"condition\":{\"selection\":\"str\",\"value\":0.2},\"value\":0},\"tooltip\":[{\"field\":\"msg\",\"type\":\"nominal\",\"title\":\"Hint\"}]}}]},{\"vconcat\":[{\"height\":240,\"width\":250,\"selection\":{\"h2\":{\"type\":\"single\",\"on\":\"mouseover\",\"empty\":\"none\",\"clear\":\"mouseout\",\"encodings\":[\"color\"]},\"click\":{\"type\":\"single\",\"empty\":\"none\",\"encodings\":[\"color\"]}},\"mark\":\"arc\",\"encoding\":{\"theta\":{\"field\":\"SampleCount\",\"type\":\"quantitative\"},\"color\":{\"field\":\"Filler\",\"type\":\"nominal\",\"legend\":null,\"scale\":{\"scheme\":\"category20c\"}},\"opacity\":{\"condition\":{\"selection\":\"h2\",\"value\":0.7},\"value\":1},\"tooltip\":[{\"field\":\"Filler\",\"type\":\"nominal\",\"title\":\"This one?\"}]},\"view\":{\"stroke\":null}},{\"layer\":[{\"transform\":[{\"filter\":{\"selection\":\"h2\"}}],\"mark\":{\"type\":\"text\",\"fontSize\":72},\"encoding\":{\"text\":{\"field\":\"SampleCount\",\"type\":\"nominal\"},\"color\":{\"field\":\"Filler\",\"type\":\"nominal\"}}},{\"transform\":[{\"filter\":\"datum.Filler == 'Graphene'\"},{\"filter\":{\"selection\":\"click\"}}],\"mark\":{\"type\":\"text\",\"dy\":40},\"encoding\":{\"text\":{\"datum\":\"Nice find! Perhaps that list is useful now...\",\"type\":\"nominal\"}}}],\"view\":{\"stroke\":null}}]}]}" ;
        ns4:depiction <http://nanomine.org/viz/284cffd6955fab4f_depiction> .

    <http://nanomine.org/viz/284cffd6955fab4f_depiction> a <http://purl.org/net/provenance/ns#File>,
            <https://www.iana.org/assignments/media-types/image>,
            <https://www.iana.org/assignments/media-types/image/png> ;
        ns7:hasContentType "image/png" ;
        ns5:contributor <http://nanomine.org/user/0984876> ;
        ns5:created "2021-08-04T15:35:23.190000+00:00"^^xsd:dateTime ;
        ns2:hasFileID "954e69dc-f539-11eb-9f8e-005056a1dd7b" .

    <https://www.iana.org/assignments/media-types/image> a ns5:FileFormat .

    <https://www.iana.org/assignments/media-types/image/png> a ns5:FileFormat .
}

{
    ns1:u7djdiwk0e a ns8:Nanopublication ;
        ns6:isAbout <http://nanomine.org/viz/284cffd6955fab4f_depiction> ;
        ns8:hasAssertion ns1:u7djdiwk0e_assertion ;
        ns8:hasProvenance ns1:u7djdiwk0e_provenance ;
        ns8:hasPublicationInfo ns1:u7djdiwk0e_pubinfo .

    ns1:u7djdiwk0e_assertion a ns8:Assertion .

    ns1:u7djdiwk0e_provenance a ns8:Provenance .

    ns1:u7djdiwk0e_pubinfo a ns8:PublicationInfo .
}

ns1:u7djdiwk0e_pubinfo {
    ns1:u7djdiwk0e_assertion ns5:contributor <http://nanomine.org/user/0984876> ;
        ns5:created "2021-08-04T15:35:23.190000+00:00"^^xsd:dateTime .
}

